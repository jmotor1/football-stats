<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<meta name="theme-color" content="#61092f">
  <title>Riverview Stats — Rushing MVP</title>
  <style>
  :root{
    --primary:#61092f;   /* Maroon */
    --accent:#fddc26;    /* Gold */
    --ink:#0e1b14;
    --muted:#6b7a70;
    --border:#e6e8e6;
    --bg:#fff;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    background:var(--bg);
    color:var(--ink);
  }

  header{
    position:sticky; top:0; z-index:5;
    background:linear-gradient(var(--primary), #4b0724);
    color:#fff; padding:12px 16px;
  }
  header, header h1, header .subtitle, header a { color: var(--accent) !important; }
  header h1{margin:0; font-size:20px}

  main{padding:16px; display:grid; gap:16px; max-width:900px; margin:0 auto}

  .card{
    background:#fff; border:1px solid var(--border);
    border-radius:10px; box-shadow:0 1px 3px rgba(0,0,0,.04);
    padding:12px;
  }

  .row{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
  .row>*{flex:1 1 140px}
  .row .tight{flex:0 0 auto}

  label{font-size:12px; color:var(--muted); display:block; margin-bottom:4px}
  input,select,button{
    font-size:16px; padding:10px 12px;
    border:1px solid #cfd7d2; border-radius:8px; background:#fff;
  }
  input[type="number"]{width:100%}
  button{cursor:pointer}
  button.primary{background:var(--primary); color: var(--accent) !important; border-color:transparent}
  button.ghost{background:#fff; color:var(--primary); border:1px solid var(--primary)}
  button.warn{background:#8b0000; color: var(--accent) !important; border-color:transparent}

  h2{font-size:18px; margin:6px 0 10px}
  table{width:100%; border-collapse:collapse}
  th,td{padding:8px; border-bottom:1px solid #efefef; text-align:right; font-variant-numeric:tabular-nums}
  th:first-child,td:first-child{text-align:left}
  thead th{color:var(--primary)}

  .pill{display:inline-block; background:var(--accent); color:var(--primary);
        padding:4px 8px; border-radius:999px; font-size:12px}
  .flex{display:flex; gap:8px; align-items:center}
  .spaced{display:flex; justify-content:space-between; align-items:center}
  .list{display:grid; gap:8px}
  .muted{color:var(--muted)}
  .grid2{display:grid; grid-template-columns:1fr 1fr; gap:8px}
  .on-dark { color: var(--accent) !important; }
  @media (max-width:640px){ .grid2{grid-template-columns:1fr} }
</style>

</head>
<body>
  <header><h1>Riverview Stats <span class="muted" style="font-size:12px">Rushing MVP</span></h1></header>
  <main>
    <section class="card" id="game-card">
      <div class="spaced"><h2 style="margin:6px 0 10px">Game</h2>
        <div><button id="endGameBtn" class="ghost">End Game / Export</button>
             <button id="resetBtn" class="warn">Reset All</button></div>
      </div>
      <div class="grid2">
        <div><label>Opponent</label><input id="opponent" placeholder="e.g., Carlson"></div>
        <div><label>Date</label><input id="gamedate" type="date"></div>
      </div>
      <div class="row" style="margin-top:8px">
        <div><label>Quarter</label>
          <select id="quarter"><option>1</option><option>2</option><option>3</option><option>4</option><option>OT</option></select>
        </div>
        <div><label>Score (us - them)</label><input id="score" placeholder="16-0"></div>
        <div><label>Notes</label><input id="notes" placeholder="Weather, field, etc."></div>
      </div>
    </section>

    <section class="card" id="players-card">
      <div class="spaced"><h2 style="margin:6px 0 10px">Roster</h2><button id="quickSeed" class="ghost">Seed Sample #’s</button></div>
      <div class="row">
        <div><label>Jersey #</label><input id="pnum" type="number" min="0" step="1" placeholder="17"></div>
        <div><label>Name (optional)</label><input id="pname" placeholder="Smith"></div>
        <button id="addPlayer" class="primary tight">Add</button>
      </div>
      <div id="playersList" class="list"></div>
    </section>

    <section class="card" id="rush-card">
      <h2 style="margin:6px 0 10px">Rushing – Quick Entry</h2>
      <div class="row">
        <div><label>Runner</label><select id="rushPlayer"></select></div>
        <div><label>Yards (− for loss)</label><input id="rushYards" type="number" step="1" placeholder="5"></div>
        <div><label>&nbsp;</label><div class="flex">
          <label class="flex"><input id="rushTD" type="checkbox"> TD</label>
          <label class="flex"><input id="rushFum" type="checkbox"> Fumble</label>
        </div></div>
      </div>
      <div class="row">
        <button class="tight" data-inc="10">+10</button><button class="tight" data-inc="5">+5</button>
        <button class="tight" data-inc="3">+3</button><button class="tight" data-inc="1">+1</button>
        <button class="tight" data-inc="0">0</button><button class="tight" data-inc="-1">-1</button>
        <button class="tight" data-inc="-3">-3</button><button class="tight" data-inc="-5">-5</button>
        <button id="addRush" class="primary">Save Play</button><button id="undoBtn" class="ghost">Undo</button>
      </div>
      <div class="muted">Every saved play is stored offline immediately.</div>
      <div id="recentPlays"></div>
    </section>

    <section class="card" id="totals-card">
      <div class="spaced"><h2 style="margin:6px 0 10px">Totals</h2><span id="playCount" class="pill">0 plays</span></div>
      <div id="teamTotals"></div>
      <div id="playerTotals"></div>
    </section>
  </main>

  <!-- scripts LAST so the page always paints -->
  <script src="sw-register.js"></script>
  <script src="tiny-idb.js"></script>
  <script src="app.js"></script>
  <!-- at the very end of body -->

</body>
</html>
